# Ralph Loop Progress

Format per entry:
- timestamp:
- item:
- summary:
- decisions:
- files:
- validation:
- commit:

---

- timestamp: 2026-02-11
- item: RL-000
- summary: Bootstrapped Codex Ralph loop harness (HITL + AFK scripts, PRD, prompt, progress tracking).
- decisions: Use Codex `gpt-5.3-codex` model with YOLO-equivalent bypass mode for autonomous iterations.
- files: ralph/prd.json, ralph/prompt.md, ralph/progress.txt, scripts/ralph-once.sh, scripts/afk-ralph.sh
- validation: bash -n scripts/ralph-once.sh scripts/afk-ralph.sh; scripts/ralph-once.sh --dry-run; scripts/afk-ralph.sh 1 --dry-run
- commit: pending
- timestamp: 2026-02-11
- item: RL-016
- summary: Completed deterministic terrain generation pipeline from server seed metadata to client tile rendering with terrain/resource layers.
- decisions: Persist per-room `terrain_seed` in DO `room_meta`; expose terrain config via `features.terrain` every snapshot; centralize deterministic terrain sampling (`sample_terrain`) in `sim-core` for server/client parity and future resource loops.
- files: sim-core/src/lib.rs, worker/src/lib.rs, src/game/types.ts, src/game/netcode/replication.ts, game-client/src/lib.rs, ralph/prd.json, ralph/progress.txt
- validation: cargo test --manifest-path sim-core/Cargo.toml; cargo check --manifest-path worker/Cargo.toml; cargo check --manifest-path game-client/Cargo.toml --target wasm32-unknown-unknown; npm run build
- commit: b8765e1

- timestamp: 2026-02-11
- item: RL-001
- summary: Added a dedicated shared gameplay domain module in `sim-core` with versioned schema contracts for resources, recipes, inventory, combat stats, placeables, and deterministic simulation tick IO.
- decisions: Keep shared model in `sim-core::domain` to avoid UI coupling; use explicit `schema_version` on state/input/output (`GAMEPLAY_SCHEMA_VERSION = 1`); drive deterministic tick behavior with ordered structures (`BTreeMap`) and pure `simulate_step` command/event flow.
- files: sim-core/src/domain.rs, sim-core/src/lib.rs, sim-core/Cargo.toml, sim-core/Cargo.lock, worker/Cargo.lock, game-client/Cargo.lock, ralph/prd.json, ralph/progress.txt
- validation: cargo fmt --manifest-path sim-core/Cargo.toml; cargo test --manifest-path sim-core/Cargo.toml (13 passed); cargo check --manifest-path worker/Cargo.toml; cargo check --manifest-path game-client/Cargo.toml --target wasm32-unknown-unknown; npm run build
- commit: 1f52970
